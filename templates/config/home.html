{% extends "base.html" %}
{% block title %}–ì–ª–∞–≤–Ω–∞—è ¬∑ ReadTogether{% endblock %}

{% block body_class %} home-page{% endblock %}

{% block extra_css %}
{{ block.super }}
<style>
  /* –ê–Ω–∏–º–∞—Ü–∏–∏ */
  @keyframes fadeInUp {
    from { opacity: 0; transform: translateY(50px); }
    to { opacity: 1; transform: translateY(0); }
  }

  @keyframes float {
    0%, 100% { transform: translateY(0px); }
    50% { transform: translateY(-20px); }
  }

  @keyframes pulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.05); }
  }

  @keyframes glow {
    0%, 100% { box-shadow: 0 0 20px rgba(171, 120, 67, 0.3); }
    50% { box-shadow: 0 0 40px rgba(171, 120, 67, 0.6); }
  }

  @keyframes shimmer {
    0% { background-position: -1000px 0; }
    100% { background-position: 1000px 0; }
  }

  @keyframes bookFlip {
    0% { transform: perspective(1000px) rotateY(0deg); }
    50% { transform: perspective(1000px) rotateY(10deg); }
    100% { transform: perspective(1000px) rotateY(0deg); }
  }

  @keyframes counter {
    from { --num: 0; }
    to { --num: var(--target); }
  }

  .animate-fade-in { animation: fadeInUp 0.8s ease-out forwards; }
  .animate-float { animation: float 3s ease-in-out infinite; }
  .animate-pulse { animation: pulse 2s ease-in-out infinite; }
  .animate-glow { animation: glow 2s ease-in-out infinite; }
  .animate-book { animation: bookFlip 3s ease-in-out infinite; }

  body.home-page {
    background: linear-gradient(180deg, #d7bda6 0%, #f8f1ea 45%, #ffffff 100%);
    overflow-x: hidden;
  }

  /* Hero Section —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π */
  .hero-section {
    background: 
      radial-gradient(circle at 20% 80%, rgba(255, 255, 255, 0.8) 0%, transparent 50%),
      radial-gradient(circle at 80% 20%, rgba(171, 120, 67, 0.1) 0%, transparent 50%),
      radial-gradient(circle at top right, rgba(255, 255, 255, 0.65), transparent 55%), 
      #d7bda6;
    border-radius: 2.5rem;
    padding: clamp(2.5rem, 6vw, 4rem);
    color: #2f1d0f;
    box-shadow: 0 2.75rem 4rem rgba(77, 54, 28, 0.15);
    position: relative;
    overflow: hidden;
    opacity: 0;
    animation: fadeInUp 1s ease-out 0.3s forwards;
  }

  .hero-section::before {
    content: "";
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
    animation: shimmer 3s ease-in-out infinite;
  }

  .hero-section::after {
    content: "";
    position: absolute;
    inset: 1.5rem;
    border-radius: 2rem;
    border: 1px solid rgba(255, 255, 255, 0.35);
    pointer-events: none;
  }

  /* –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏ —Ñ–∏—á */
  .hero-highlight {
    display: grid;
    gap: 1.5rem;
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  }

  .hero-highlight__card {
    backdrop-filter: blur(12px);
    background: rgba(255, 255, 255, 0.75);
    border-radius: 1.25rem;
    padding: 1.2rem;
    box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.55);
    transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    cursor: pointer;
    position: relative;
    overflow: hidden;
    opacity: 0;
    transform: translateY(30px);
  }

  .hero-highlight__card:nth-child(1) { animation: fadeInUp 0.6s ease-out 0.5s forwards; }
  .hero-highlight__card:nth-child(2) { animation: fadeInUp 0.6s ease-out 0.7s forwards; }
  .hero-highlight__card:nth-child(3) { animation: fadeInUp 0.6s ease-out 0.9s forwards; }
  .hero-highlight__card:nth-child(4) { animation: fadeInUp 0.6s ease-out 1.1s forwards; }

  .hero-highlight__card::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(171, 120, 67, 0.1), transparent);
    transition: left 0.6s ease;
  }

  .hero-highlight__card:hover::before {
    left: 100%;
  }

  .hero-highlight__card:hover {
    transform: translateY(-10px) scale(1.02);
    background: rgba(255, 255, 255, 0.9);
    box-shadow: 
      inset 0 0 0 1px rgba(171, 120, 67, 0.3),
      0 20px 40px rgba(77, 54, 28, 0.2);
  }

  .hero-highlight__card i {
    transition: transform 0.3s ease, color 0.3s ease;
  }

  .hero-highlight__card:hover i {
    transform: scale(1.2);
    color: #8b5a2b !important;
  }

  .home-section {
    margin-top: clamp(3rem, 6vw, 4.5rem);
    opacity: 0;
    animation: fadeInUp 0.8s ease-out forwards;
  }

  .home-section:nth-child(2) { animation-delay: 0.4s; }
  .home-section:nth-child(3) { animation-delay: 0.6s; }

  .section-heading {
    display: flex;
    align-items: center;
    justify-content: space-between;
    flex-wrap: wrap;
    gap: 1rem;
  }

  .section-heading__title {
    margin: 0;
    font-weight: 700;
    letter-spacing: -0.02em;
    position: relative;
    display: inline-block;
  }

  .section-heading__title::after {
    content: '';
    position: absolute;
    bottom: -5px;
    left: 0;
    width: 0;
    height: 3px;
    background: linear-gradient(90deg, #ab7843, #d7bda6);
    transition: width 0.6s ease;
  }

  .section-heading:hover .section-heading__title::after {
    width: 100%;
  }

  /* –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–Ω–∏–≥–∏ –≤ –ø–æ–¥–±–æ—Ä–∫–∞—Ö */
  .books-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
    gap: 1.5rem;
    margin-top: 2rem;
  }

  .book-card {
    background: rgba(255, 255, 255, 0.9);
    border-radius: 1rem;
    padding: 1.5rem 1rem;
    text-align: center;
    transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    cursor: pointer;
    position: relative;
    overflow: hidden;
    border: 1px solid rgba(171, 120, 67, 0.2);
  }

  .book-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(171, 120, 67, 0.1), transparent);
    transition: left 0.6s ease;
  }

  .book-card:hover::before {
    left: 100%;
  }

  .book-card:hover {
    transform: translateY(-8px) scale(1.05);
    box-shadow: 0 20px 40px rgba(77, 54, 28, 0.2);
    border-color: rgba(171, 120, 67, 0.4);
  }

  .book-cover {
    width: 80px;
    height: 120px;
    background: linear-gradient(135deg, #ab7843, #d7bda6);
    border-radius: 8px;
    margin: 0 auto 1rem;
    position: relative;
    transition: all 0.4s ease;
    animation: bookFlip 4s ease-in-out infinite;
  }

  .book-card:hover .book-cover {
    animation: none;
    transform: perspective(1000px) rotateY(15deg) scale(1.1);
  }

  .book-cover::after {
    content: 'üìñ';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 2rem;
  }

  .book-title {
    font-weight: 600;
    margin-bottom: 0.5rem;
    font-size: 0.9rem;
    line-height: 1.3;
  }

  .book-author {
    color: #666;
    font-size: 0.8rem;
  }

  .featured-shelf {
    position: relative;
    padding: clamp(1.75rem, 5vw, 2.5rem);
    border-radius: 1.75rem;
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.95), rgba(255, 255, 255, 0.7));
    box-shadow: inset 0 0 0 1px rgba(171, 120, 67, 0.25), 0 1.5rem 3rem rgba(75, 54, 33, 0.15);
    overflow: hidden;
  }

  .featured-shelf::before {
    content: "";
    position: absolute;
    inset: 1.25rem;
    border-radius: 1.5rem;
    border: 1px dashed rgba(171, 120, 67, 0.35);
    pointer-events: none;
  }

  .featured-book {
    background: rgba(215, 189, 166, 0.35);
    border-radius: 1.25rem;
    padding: 1.25rem;
    transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    box-shadow: 0 1rem 2rem rgba(43, 29, 19, 0.08);
    cursor: pointer;
    position: relative;
    overflow: hidden;
  }

  .featured-book::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
    transition: left 0.6s ease;
  }

  .featured-book:hover::before {
    left: 100%;
  }

  .featured-book:hover {
    transform: translateY(-8px) scale(1.02);
    box-shadow: 0 2rem 4rem rgba(43, 29, 19, 0.2);
    background: rgba(215, 189, 166, 0.5);
  }

  /* –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å—á–µ—Ç—á–∏–∫–∏ */
  .counter {
    font-variant-numeric: tabular-nums;
    animation: counter 2s ease-out forwards;
    counter-reset: num var(--num);
  }

  .counter::before {
    content: counter(num);
  }

  .timeline-card {
    border-radius: 1.5rem;
    padding: 1.75rem;
    background: rgba(255, 255, 255, 0.9);
    border: 1px solid rgba(171, 120, 67, 0.15);
    height: 100%;
    display: flex;
    flex-direction: column;
    gap: 1.2rem;
    transition: all 0.3s ease;
  }

  .timeline-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 15px 30px rgba(77, 54, 28, 0.1);
  }

  .timeline-item {
    display: grid;
    grid-template-columns: auto 1fr;
    gap: 0.85rem 1rem;
    align-items: center;
    transition: all 0.3s ease;
  }

  .timeline-item:hover {
    transform: translateX(10px);
  }

  .timeline-item__time {
    font-weight: 700;
    color: #ab7843;
    transition: color 0.3s ease;
  }

  .timeline-item:hover .timeline-item__time {
    color: #8b5a2b;
  }

  /* CTA Banner —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π */
  .cta-banner {
    background: 
      linear-gradient(90deg, rgba(171, 120, 67, 0.95), rgba(122, 74, 36, 0.95)),
      url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="books" x="0" y="0" width="20" height="20" patternUnits="userSpaceOnUse"><text x="0" y="15" font-family="Arial" font-size="12" fill="rgba(255,255,255,0.1)">üìö</text></pattern></defs><rect width="100" height="100" fill="url(%23books)"/></svg>');
    color: #fff;
    border-radius: 2rem;
    padding: clamp(2rem, 4vw, 3rem);
    box-shadow: 0 2rem 3.5rem rgba(58, 35, 16, 0.25);
    position: relative;
    overflow: hidden;
    opacity: 0;
    animation: fadeInUp 0.8s ease-out 0.8s forwards;
  }

  .cta-banner::before {
    content: "";
    position: absolute;
    width: 400px;
    height: 400px;
    background: radial-gradient(circle, rgba(255, 255, 255, 0.1) 0%, transparent 70%);
    border-radius: 50%;
    top: -200px;
    right: -150px;
    animation: float 6s ease-in-out infinite;
  }

  .cta-banner::after {
    content: "";
    position: absolute;
    width: 280px;
    height: 280px;
    background: rgba(255, 255, 255, 0.08);
    border-radius: 50%;
    top: -120px;
    right: -100px;
    animation: float 4s ease-in-out infinite reverse;
  }

  .cta-banner .btn {
    position: relative;
    overflow: hidden;
    transition: all 0.3s ease;
  }

  .cta-banner .btn::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
    transition: left 0.5s;
  }

  .cta-banner .btn:hover::before {
    left: 100%;
  }

  .cta-banner .btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
  }

  /* –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ü–∏—Ñ—Ä—ã —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ */
  .stat-number {
    font-size: 3rem;
    font-weight: 800;
    background: linear-gradient(135deg, #fff, #f8f1ea);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    position: relative;
    display: inline-block;
  }

  .stat-number::after {
    content: '';
    position: absolute;
    bottom: -5px;
    left: 0;
    width: 100%;
    height: 3px;
    background: linear-gradient(90deg, transparent, #fff, transparent);
    transform: scaleX(0);
    transition: transform 0.6s ease;
  }

  .stat-item:hover .stat-number::after {
    transform: scaleX(1);
  }

  /* –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ */
  .btn-magic {
    background: linear-gradient(135deg, #ab7843, #d7bda6);
    border: none;
    color: white;
    position: relative;
    overflow: hidden;
    transition: all 0.4s ease;
  }

  .btn-magic:hover {
    transform: translateY(-2px);
    box-shadow: 0 10px 25px rgba(171, 120, 67, 0.4);
  }

  /* –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è –ø—Ä–∏ —Å–∫—Ä–æ–ª–ª–µ */
  .scroll-reveal {
    opacity: 0;
    transform: translateY(50px);
    transition: all 0.8s ease;
  }

  .scroll-reveal.revealed {
    opacity: 1;
    transform: translateY(0);
  }

  @media (max-width: 991.98px) {
    .hero-section {
      border-radius: 2rem;
    }

    .hero-section::after {
      inset: 1rem;
      border-radius: 1.6rem;
    }

    .section-heading {
      align-items: flex-start;
    }

    .books-grid {
      grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
      gap: 1rem;
    }
  }

  @media (max-width: 575.98px) {
    main.container {
      padding-left: 1rem !important;
      padding-right: 1rem !important;
    }

    .hero-section {
      padding: 2.25rem 1.75rem;
    }

    .hero-highlight {
      grid-template-columns: 1fr;
    }

    .featured-shelf {
      padding: 1.5rem;
    }

    .stat-number {
      font-size: 2.5rem;
    }
  }
</style>
{% endblock %}

{% block content %}

<section class="hero-section mb-5">
  <div class="hero-highlight">
    <div class="hero-highlight__card h-100" onclick="showFeatureMessage('–î–æ–º–∞—à–Ω—è—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞', '–°–æ–∑–¥–∞–π—Ç–µ —Å–≤–æ—é —É–Ω–∏–∫–∞–ª—å–Ω—É—é –∫–æ–ª–ª–µ–∫—Ü–∏—é –∫–Ω–∏–≥! üìö')">
      <div class="d-flex align-items-center gap-2 mb-3">
        <i class="bi bi-house-heart fs-4 animate-pulse" style="color:#ab7843"></i>
        <h3 class="h5 fw-semibold mb-0">–î–æ–º–∞—à–Ω—è—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞</h3>
      </div>
      <p class="mb-0">–í—Å–µ–≥–¥–∞ –∑–Ω–∞–π—Ç–µ, —Å–∫–æ–ª—å–∫–æ –∫–Ω–∏–≥ —Å—Ç–æ–∏—Ç –Ω–∞ –≤–∞—à–∏—Ö –ø–æ–ª–∫–∞—Ö, –∫–∞–∫–∏–µ –µ—â—ë –∂–¥–∞—é—Ç –ø—Ä–æ—á—Ç–µ–Ω–∏—è –∏ —á—Ç–æ –≤—ã –¥–µ–ª–∞–µ—Ç–µ —á–∞—â–µ ‚Äî —á–∏—Ç–∞–µ—Ç–µ –∏–ª–∏ –ø–æ–ø–æ–ª–Ω—è–µ—Ç–µ –∫–æ–ª–ª–µ–∫—Ü–∏—é.</p>
    </div>
    <div class="hero-highlight__card h-100" onclick="showFeatureMessage('–°–æ–≤–º–µ—Å—Ç–Ω—ã–µ —á—Ç–µ–Ω–∏—è', '–ß–∏—Ç–∞–π—Ç–µ –≤–º–µ—Å—Ç–µ —Å –¥—Ä—É–∑—å—è–º–∏! üë•')">
      <div class="d-flex align-items-center gap-2 mb-3">
        <i class="bi bi-people-fill fs-4 animate-pulse" style="color:#ab7843"></i>
        <h3 class="h5 fw-semibold mb-0">–°–æ–≤–º–µ—Å—Ç–Ω—ã–µ —á—Ç–µ–Ω–∏—è</h3>
      </div>
      <p class="mb-0">–í—Å—Ç—É–ø–∞–π—Ç–µ –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Å–æ–≤–º–µ—Å—Ç–Ω—ã–µ —á—Ç–µ–Ω–∏—è –∏–ª–∏ —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ —Å–≤–æ–∏ –∏ –Ω–∞—Å–ª–∞–∂–¥–∞–π—Ç–µ—Å—å –∫–Ω–∏–≥–∞–º–∏ –≤ –∫–æ–º–ø–∞–Ω–∏–∏ –µ–¥–∏–Ω–æ–º—ã—à–ª–µ–Ω–Ω–∏–∫–æ–≤.</p>
    </div>
    <div class="hero-highlight__card h-100" onclick="showFeatureMessage('–ò–≥—Ä—ã', '–°–¥–µ–ª–∞–π—Ç–µ —á—Ç–µ–Ω–∏–µ —É–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω–æ–π –∏–≥—Ä–æ–π! üéÆ')">
      <div class="d-flex align-items-center gap-2 mb-3">
        <i class="bi bi-controller fs-4 animate-pulse" style="color:#ab7843"></i>
        <h3 class="h5 fw-semibold mb-0">–ò–≥—Ä—ã</h3>
      </div>
      <p class="mb-0">–ë—Ä–æ—Å—å—Ç–µ —Å–µ–±–µ –≤—ã–∑–æ–≤, –ø–æ–∑–Ω–∞–∫–æ–º—å—Ç–µ—Å—å —Å –Ω–æ–≤—ã–º–∏ –∞–≤—Ç–æ—Ä–∞–º–∏ –∏–ª–∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ—Å—å –≤ –∫–Ω–∏–∂–Ω–æ–µ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ —Å –Ω–∞—à–∏–º–∏ –∏–≥—Ä–æ–≤—ã–º–∏ —Ñ–æ—Ä–º–∞—Ç–∞–º–∏.</p>
    </div>
    <div class="hero-highlight__card h-100" onclick="showFeatureMessage('–°–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤–æ', '–°—Ç–∞–Ω—å—Ç–µ —á–∞—Å—Ç—å—é –∫–Ω–∏–∂–Ω–æ–≥–æ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞! ü§ù')">
      <div class="d-flex align-items-center gap-2 mb-3">
        <i class="bi bi-heart-fill fs-4 animate-pulse" style="color:#ab7843"></i>
        <h3 class="h5 fw-semibold mb-0">–°–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤–æ</h3>
      </div>
      <p class="mb-0">–ê–≤—Ç–æ—Ä—ã –∏—â—É—Ç —á–∏—Ç–∞—Ç–µ–ª–µ–π –∏ –±–ª–æ–≥–µ—Ä–æ–≤: –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –∑–∞—è–≤–∫—É –∏ –ø–æ–ª—É—á–∏—Ç–µ –∫–Ω–∏–≥—É –±–µ—Å–ø–ª–∞—Ç–Ω–æ, —á—Ç–æ–±—ã –ø–æ–¥–µ–ª–∏—Ç—å—Å—è –≤–ø–µ—á–∞—Ç–ª–µ–Ω–∏—è–º–∏.</p>
    </div>
  </div>
</section>

<section class="home-section scroll-reveal">
  <div class="section-heading">
    <h2 class="section-heading__title h3">–ü–æ–¥–±–æ—Ä–∫–∏ –∏ –ø–æ–ª–∫–∏ –Ω–µ–¥–µ–ª–∏</h2>
    <a class="btn btn-outline-dark btn-sm btn-magic" href="{% url 'shelves:my_shelves' %}">
      <i class="bi bi-archive me-1"></i>–û—Ç–∫—Ä—ã—Ç—å –≤—Å–µ –ø–æ–ª–∫–∏
    </a>
  </div>

  <div class="books-grid">
    <!-- –ö–Ω–∏–≥–∞ 1 -->
    <div class="book-card" onclick="showBookPreview('–ú–∞—Å—Ç–µ—Ä –∏ –ú–∞—Ä–≥–∞—Ä–∏—Ç–∞', '–ú–∏—Ö–∞–∏–ª –ë—É–ª–≥–∞–∫–æ–≤')">
      <div class="book-cover animate-book"></div>
      <div class="book-title">–ú–∞—Å—Ç–µ—Ä –∏ –ú–∞—Ä–≥–∞—Ä–∏—Ç–∞</div>
      <div class="book-author">–ú–∏—Ö–∞–∏–ª –ë—É–ª–≥–∞–∫–æ–≤</div>
    </div>
    
    <!-- –ö–Ω–∏–≥–∞ 2 -->
    <div class="book-card" onclick="showBookPreview('1984', '–î–∂–æ—Ä–¥–∂ –û—Ä—É—ç–ª–ª')">
      <div class="book-cover animate-book" style="animation-delay: 0.5s;"></div>
      <div class="book-title">1984</div>
      <div class="book-author">–î–∂–æ—Ä–¥–∂ –û—Ä—É—ç–ª–ª</div>
    </div>
    
    <!-- –ö–Ω–∏–≥–∞ 3 -->
    <div class="book-card" onclick="showBookPreview('–ú–∞–ª–µ–Ω—å–∫–∏–π –ø—Ä–∏–Ω—Ü', '–ê–Ω—Ç—É–∞–Ω –¥–µ –°–µ–Ω—Ç-–≠–∫–∑—é–ø–µ—Ä–∏')">
      <div class="book-cover animate-book" style="animation-delay: 1s;"></div>
      <div class="book-title">–ú–∞–ª–µ–Ω—å–∫–∏–π –ø—Ä–∏–Ω—Ü</div>
      <div class="book-author">–ê–Ω—Ç—É–∞–Ω –¥–µ –°–µ–Ω—Ç-–≠–∫–∑—é–ø–µ—Ä–∏</div>
    </div>
    
    <!-- –ö–Ω–∏–≥–∞ 4 -->
    <div class="book-card" onclick="showBookPreview('–ì–∞—Ä—Ä–∏ –ü–æ—Ç—Ç–µ—Ä', '–î–∂–æ–∞–Ω –†–æ—É–ª–∏–Ω–≥')">
      <div class="book-cover animate-book" style="animation-delay: 1.5s;"></div>
      <div class="book-title">–ì–∞—Ä—Ä–∏ –ü–æ—Ç—Ç–µ—Ä</div>
      <div class="book-author">–î–∂–æ–∞–Ω –†–æ—É–ª–∏–Ω–≥</div>
    </div>
    
    <!-- –ö–Ω–∏–≥–∞ 5 -->
    <div class="book-card" onclick="showBookPreview('–ü—Ä–µ—Å—Ç—É–ø–ª–µ–Ω–∏–µ –∏ –Ω–∞–∫–∞–∑–∞–Ω–∏–µ', '–§—ë–¥–æ—Ä –î–æ—Å—Ç–æ–µ–≤—Å–∫–∏–π')">
      <div class="book-cover animate-book" style="animation-delay: 2s;"></div>
      <div class="book-title">–ü—Ä–µ—Å—Ç—É–ø–ª–µ–Ω–∏–µ –∏ –Ω–∞–∫–∞–∑–∞–Ω–∏–µ</div>
      <div class="book-author">–§—ë–¥–æ—Ä –î–æ—Å—Ç–æ–µ–≤—Å–∫–∏–π</div>
    </div>
  </div>
</section>

<section class="home-section scroll-reveal">
  <div class="cta-banner">
    <div class="row g-4 align-items-center">
      <div class="col-lg-7">
        <h2 class="h2 fw-bold mb-3 animate-glow">–°–æ–∑–¥–∞–π—Ç–µ —Å–≤–æ—é –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–Ω—É—é –≤—Å–µ–ª–µ–Ω–Ω—É—é —É–∂–µ —Å–µ–≥–æ–¥–Ω—è</h2>
        <p class="mb-4">–ù–∞—Å—Ç—Ä–∞–∏–≤–∞–π—Ç–µ —Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ–ª–∫–∏, –ø—Ä–∏–≥–ª–∞—à–∞–π—Ç–µ –¥—Ä—É–∑–µ–π –∏ –∑–∞–ø—É—Å–∫–∞–π—Ç–µ –∏–≥—Ä—ã, —á—Ç–æ–±—ã —á—Ç–µ–Ω–∏–µ —Å—Ç–∞–ª–æ –æ–±—â–∏–º –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏–µ–º. –ú—ã –ø–æ–∑–∞–±–æ—Ç–∏–º—Å—è –æ –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–∏.</p>
        <div class="d-flex flex-wrap gap-2">
          <a class="btn btn-light btn-lg text-dark btn-magic" href="{% url 'reading_marathons:list' %}">
            <i class="bi bi-flag me-2"></i>–ö–∞—Ç–∞–ª–æ–≥ –º–∞—Ä–∞—Ñ–æ–Ω–æ–≤
          </a>
          <a class="btn btn-outline-light btn-lg btn-magic" href="{% url 'collaborations:offer_list' %}">
            <i class="bi bi-megaphone me-2"></i>–ö–æ–ª–ª–∞–±–æ—Ä–∞—Ü–∏–∏
          </a>
        </div>
      </div>
      <div class="col-lg-5">
        <div class="d-grid gap-3">
          <div class="d-flex align-items-center gap-3 stat-item">
            <div class="stat-number" style="--target: 5">5</div>
            <div>–∫–ª—É–±–æ–≤ –∞–∫—Ç–∏–≤–Ω–æ —á–∏—Ç–∞—é—Ç –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å</div>
          </div>
          <div class="d-flex align-items-center gap-3 stat-item">
            <div class="stat-number" style="--target: 96">96</div>
            <div>—É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –∫ –Ω–∞–º –∫–∞–∂–¥—É—é –Ω–µ–¥–µ–ª—é</div>
          </div>
          <div class="d-flex align-items-center gap-3 stat-item">
            <div class="stat-number" style="--target: 24">24</div>
            <div>–∂–∏–≤—ã–µ –±–µ—Å–µ–¥—ã, –º–∞—Ä–∞—Ñ–æ–Ω—ã –∏ –∏–≥—Ä—ã –Ω–∞ –ª—é–±–æ–π –≤–∫—É—Å</div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- –í—Å–ø–ª—ã–≤–∞—é—â–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è -->
<div class="position-fixed top-0 end-0 p-3" style="z-index: 11">
  <div id="liveToast" class="toast align-items-center text-white bg-success border-0" role="alert" aria-live="assertive" aria-atomic="true">
    <div class="d-flex">
      <div class="toast-body" id="toastMessage"></div>
      <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
    </div>
  </div>
</div>
{% endblock %}

{% block extra_js %}
{{ block.super }}
<script>
  // –ê–Ω–∏–º–∞—Ü–∏—è —Å—á–µ—Ç—á–∏–∫–æ–≤
  function animateCounters() {
    const counters = document.querySelectorAll('.stat-number');
    counters.forEach(counter => {
      const target = parseInt(counter.style.getPropertyValue('--target'));
      let current = 0;
      const increment = target / 50;
      const timer = setInterval(() => {
        current += increment;
        if (current >= target) {
          counter.textContent = target + (counter.textContent.includes('%') ? '%' : '+');
          clearInterval(timer);
        } else {
          counter.textContent = Math.floor(current) + (counter.textContent.includes('%') ? '%' : '+');
        }
      }, 40);
    });
  }

  // –ü–æ–∫–∞–∑ —Å–æ–æ–±—â–µ–Ω–∏–π –æ —Ñ—É–Ω–∫—Ü–∏—è—Ö
  function showFeatureMessage(title, message) {
    const toast = new bootstrap.Toast(document.getElementById('liveToast'));
    document.getElementById('toastMessage').textContent = `${title}: ${message}`;
    toast.show();
    
    // –ê–Ω–∏–º–∞—Ü–∏—è –∫–ª–∏–∫–∞ –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–µ
    event.currentTarget.style.transform = 'scale(0.95)';
    setTimeout(() => {
      event.currentTarget.style.transform = '';
    }, 300);
  }

  // –ü—Ä–µ–≤—å—é –∫–Ω–∏–≥–∏
  function showBookPreview(title, author) {
    showFeatureMessage(title, `–ê–≤—Ç–æ—Ä: ${author}. –ù–∞–∂–º–∏—Ç–µ –¥–ª—è –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–µ–π! üìñ`);
  }

  // –ê–Ω–∏–º–∞—Ü–∏—è –ø—Ä–∏ —Å–∫—Ä–æ–ª–ª–µ
  function checkScroll() {
    const reveals = document.querySelectorAll('.scroll-reveal');
    reveals.forEach(element => {
      const windowHeight = window.innerHeight;
      const elementTop = element.getBoundingClientRect().top;
      const elementVisible = 150;
      
      if (elementTop < windowHeight - elementVisible) {
        element.classList.add('revealed');
      }
    });
  }

  // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
  document.addEventListener('DOMContentLoaded', function() {
    // –ó–∞–ø—É—Å–∫ –∞–Ω–∏–º–∞—Ü–∏–∏ —Å—á–µ—Ç—á–∏–∫–æ–≤
    setTimeout(animateCounters, 1000);
    
    // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∫—Ä–æ–ª–ª–∞
    window.addEventListener('scroll', checkScroll);
    checkScroll(); // –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
    
    // –ê–Ω–∏–º–∞—Ü–∏—è –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è
    setTimeout(() => {
      showFeatureMessage('–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!', '–ò—Å—Å–ª–µ–¥—É–π—Ç–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –Ω–∞—à–µ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –¥–ª—è —á—Ç–µ–Ω–∏—è! üåü');
    }, 2000);

    // –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π hover –¥–ª—è –≤—Å–µ—Ö –∫–∞—Ä—Ç–æ—á–µ–∫
    const cards = document.querySelectorAll('.hero-highlight__card, .book-card, .featured-book');
    cards.forEach(card => {
      card.addEventListener('mouseenter', function() {
        this.style.zIndex = '10';
      });
      
      card.addEventListener('mouseleave', function() {
        this.style.zIndex = '1';
      });
    });
  });

  // –ü–∞—Ä–∞–ª–ª–∞–∫—Å —ç—Ñ—Ñ–µ–∫—Ç –¥–ª—è –≥–µ—Ä–æ—è
  window.addEventListener('scroll', () => {
    const scrolled = window.pageYOffset;
    const hero = document.querySelector('.hero-section');
    if (hero) {
      hero.style.transform = `translateY(${scrolled * 0.5}px)`;
    }
  });

  // –ê–Ω–∏–º–∞—Ü–∏—è –≤–æ–ª–Ω—ã –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
  function createRipple(event) {
    const button = event.currentTarget;
    const circle = document.createElement("span");
    const diameter = Math.max(button.clientWidth, button.clientHeight);
    const radius = diameter / 2;

    circle.style.width = circle.style.height = `${diameter}px`;
    circle.style.left = `${event.clientX - button.offsetLeft - radius}px`;
    circle.style.top = `${event.clientY - button.offsetTop - radius}px`;
    circle.classList.add("ripple");

    const ripple = button.getElementsByClassName("ripple")[0];
    if (ripple) {
      ripple.remove();
    }

    button.appendChild(circle);
  }

  // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ ripple —ç—Ñ—Ñ–µ–∫—Ç–∞ –∫ –∫–Ω–æ–ø–∫–∞–º
  const buttons = document.querySelectorAll('.btn-magic');
  buttons.forEach(button => {
    button.addEventListener('click', createRipple);
  });
</script>

<style>
  /* Ripple —ç—Ñ—Ñ–µ–∫—Ç */
  .ripple {
    position: absolute;
    border-radius: 50%;
    background-color: rgba(255, 255, 255, 0.7);
    transform: scale(0);
    animation: ripple 0.6s linear;
  }

  @keyframes ripple {
    to {
      transform: scale(4);
      opacity: 0;
    }
  }

  .btn-magic {
    position: relative;
    overflow: hidden;
  }
</style>
{% endblock %}