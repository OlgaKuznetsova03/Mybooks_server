{% extends "base.html" %}
{% block title %}Главная · ReadTogether{% endblock %}

{% block body_class %} home-page{% endblock %}

{% block extra_css %}
{{ block.super }}
<style>
  body.home-page {
    background: linear-gradient(180deg, #d7bda6 0%, #f8f1ea 45%, #ffffff 100%);
  }

  .hero-section {
    background: radial-gradient(circle at top right, rgba(255, 255, 255, 0.65), transparent 55%), #d7bda6;
    border-radius: 2.5rem;
    padding: clamp(2.5rem, 6vw, 4rem);
    color: #2f1d0f;
    box-shadow: 0 2.75rem 4rem rgba(77, 54, 28, 0.15);
    position: relative;
    overflow: hidden;
  }

  .hero-section::after {
    content: "";
    position: absolute;
    inset: 1.5rem;
    border-radius: 2rem;
    border: 1px solid rgba(255, 255, 255, 0.35);
    pointer-events: none;
  }

  .hero-highlight {
    display: grid;
    gap: 1rem;
    grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
  }

  .hero-highlight__card {
    backdrop-filter: blur(12px);
    background: rgba(255, 255, 255, 0.75);
    border-radius: 1.25rem;
    padding: 1.2rem;
    box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.55);
  }

  .btn-amber {
    background-color: #ab7843;
    border-color: #ab7843;
    color: #fff;
  }

  .btn-amber:hover,
  .btn-amber:focus {
    background-color: #8f6234;
    border-color: #8f6234;
    color: #fff;
  }

  .btn-amber:active,
  .btn-amber.active {
    background-color: #734f2a !important;
    border-color: #734f2a !important;
  }

  .home-section {
    margin-top: clamp(3rem, 6vw, 4.5rem);
  }

  .section-heading {
    display: flex;
    align-items: center;
    justify-content: space-between;
    flex-wrap: wrap;
    gap: 1rem;
  }

  .section-heading__title {
    margin: 0;
    font-weight: 700;
    letter-spacing: -0.02em;
  }

  .featured-shelf {
    position: relative;
    padding: clamp(1.75rem, 5vw, 2.5rem);
    border-radius: 1.75rem;
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.95), rgba(255, 255, 255, 0.7));
    box-shadow: inset 0 0 0 1px rgba(171, 120, 67, 0.25), 0 1.5rem 3rem rgba(75, 54, 33, 0.15);
  }

  .featured-shelf::before {
    content: "";
    position: absolute;
    inset: 1.25rem;
    border-radius: 1.5rem;
    border: 1px dashed rgba(171, 120, 67, 0.35);
    pointer-events: none;
  }

  .featured-book {
    background: rgba(215, 189, 166, 0.35);
    border-radius: 1.25rem;
    padding: 1.25rem;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    box-shadow: 0 1rem 2rem rgba(43, 29, 19, 0.08);
  }

  .featured-book:hover {
    transform: translateY(-6px);
    box-shadow: 0 1.75rem 3.25rem rgba(43, 29, 19, 0.14);
  }

  .pill {
    display: inline-flex;
    align-items: center;
    gap: 0.35rem;
    border-radius: 999px;
    padding: 0.4rem 0.85rem;
    background: rgba(171, 120, 67, 0.12);
    color: #80522b;
    font-size: 0.875rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.04em;
  }

  .timeline-card {
    border-radius: 1.5rem;
    padding: 1.75rem;
    background: rgba(255, 255, 255, 0.9);
    border: 1px solid rgba(171, 120, 67, 0.15);
    height: 100%;
    display: flex;
    flex-direction: column;
    gap: 1.2rem;
  }

  .timeline-item {
    display: grid;
    grid-template-columns: auto 1fr;
    gap: 0.85rem 1rem;
    align-items: center;
  }

  .timeline-item__time {
    font-weight: 700;
    color: #ab7843;
  }

  .cta-banner {
    background: linear-gradient(90deg, rgba(171, 120, 67, 0.95), rgba(122, 74, 36, 0.95));
    color: #fff;
    border-radius: 2rem;
    padding: clamp(2rem, 4vw, 3rem);
    box-shadow: 0 2rem 3.5rem rgba(58, 35, 16, 0.25);
    position: relative;
    overflow: hidden;
  }

  .cta-banner::after {
    content: "";
    position: absolute;
    width: 280px;
    height: 280px;
    background: rgba(255, 255, 255, 0.08);
    border-radius: 50%;
    top: -120px;
    right: -100px;
  }

  @media (max-width: 991.98px) {
    .hero-section {
      border-radius: 2rem;
    }

    .hero-section::after {
      inset: 1rem;
      border-radius: 1.6rem;
    }

    .section-heading {
      align-items: flex-start;
    }
  }

  @media (max-width: 575.98px) {
    main.container {
      padding-left: 1rem !important;
      padding-right: 1rem !important;
    }

    .hero-section {
      padding: 2.25rem 1.75rem;
    }

    .hero-highlight {
      grid-template-columns: 1fr 1fr;
    }

    .featured-shelf {
      padding: 1.5rem;
    }
  }
</style>
{% endblock %}

{% block content %}

<section class="hero-section mb-5">
  <div class="row g-4 align-items-center">
    <div class="col-lg-6">
      <span class="pill"><i class="bi bi-stars"></i> Вдохновляем на чтение</span>
      <h1 class="display-5 fw-bold mt-3 mb-3">Окунитесь в мир совместного чтения и литературных приключений</h1>
      <p class="lead mb-4">Присоединяйтесь к клубам, создавайте марафоны и настраивайте свою идеальную книжную полку. У нас всегда найдётся компания для обсуждения любимых историй.</p>
      <div class="d-flex flex-wrap gap-2">
        <a class="btn btn-amber btn-lg px-4" href="/reading/create/"><i class="bi bi-people-fill me-2"></i>Запустить чтение</a>
        <a class="btn btn-outline-light btn-lg px-4" href="{% url 'book_list' %}"><i class="bi bi-book-half me-2"></i>Найти идеальную книгу</a>
      </div>
    </div>
    <div class="col-lg-6">
      <div class="hero-highlight">
        <div class="hero-highlight__card">
          <div class="d-flex align-items-center justify-content-between mb-3">
            <span class="pill"><i class="bi bi-collection-play"></i> Чтения</span>
            <i class="bi bi-arrow-right-circle text-amber fs-4" style="color:#ab7843"></i>
          </div>
          <h3 class="h5 fw-semibold mb-2">Встречи каждый день</h3>
          <p class="mb-0">Сотни обсуждений романов, нон-фикшена и комиксов.</p>
        </div>
        <div class="hero-highlight__card">
          <div class="d-flex align-items-center justify-content-between mb-3">
            <span class="pill"><i class="bi bi-trophy"></i> Марафоны</span>
            <i class="bi bi-lightning-charge-fill" style="color:#ab7843"></i>
          </div>
          <h3 class="h5 fw-semibold mb-2">Прокачайте привычку</h3>
          <p class="mb-0">Игровые механики, чек-листы и награды за стабильность.</p>
        </div>
        <div class="hero-highlight__card">
          <div class="d-flex align-items-center justify-content-between mb-3">
            <span class="pill"><i class="bi bi-controller"></i> Игры</span>
            <i class="bi bi-joystick" style="color:#ab7843"></i>
          </div>
          <h3 class="h5 fw-semibold mb-2">Квиз и сторителлинг</h3>
          <p class="mb-0">Весёлые испытания и соревнования для друзей и клубов.</p>
        </div>
        <div class="hero-highlight__card">
          <div class="d-flex align-items-center justify-content-between mb-3">
            <span class="pill"><i class="bi bi-people"></i> Коллаборации</span>
            <i class="bi bi-heart-fill" style="color:#ab7843"></i>
          </div>
          <h3 class="h5 fw-semibold mb-2">Находим единомышленников</h3>
          <p class="mb-0">Авторские подборки, издательства и блогеры в одном месте.</p>
        </div>
      </div>
    </div>
  </div>
  </section>

<section class="home-section">
  <div class="section-heading">
    <h2 class="section-heading__title h3">Подборки и полки недели</h2>
    <a class="btn btn-outline-dark btn-sm" href="{% url 'shelves:my_shelves' %}"><i class="bi bi-archive me-1"></i>Открыть все полки</a>
  </div>
  <div class="featured-shelf mt-4">
    <div class="row g-4">
      <div class="col-md-4">
        <div class="featured-book h-100">
          <span class="pill mb-3"><i class="bi bi-magic"></i> Фэнтези</span>
          <h3 class="h4 fw-semibold mb-2">«Вечерние туманы»</h3>
          <p class="text-muted">Погружение в атмосферу уюта и магии. Встречаемся по вечерам, чтобы обсудить, как меняется наш взгляд на привычный мир.</p>
          <div class="d-flex align-items-center gap-2 mt-3">
            <i class="bi bi-calendar-week text-warning"></i>
            <span>Следующая встреча — 14 мая, 20:00</span>
          </div>
        </div>
      </div>
      <div class="col-md-4">
        <div class="featured-book h-100">
          <span class="pill mb-3"><i class="bi bi-rocket"></i> Sci-Fi</span>
          <h3 class="h4 fw-semibold mb-2">Орбитальный чит-клуб</h3>
          <p class="text-muted">Каждую неделю новая планета: от космических одиссей до антиутопий. Трекинг прогресса и дружеские челленджи.</p>
          <div class="d-flex align-items-center gap-2 mt-3">
            <i class="bi bi-people text-warning"></i>
            <span>78 участников · 12 обсуждений в этом месяце</span>
          </div>
        </div>
      </div>
      <div class="col-md-4">
        <div class="featured-book h-100">
          <span class="pill mb-3"><i class="bi bi-journal-richtext"></i> Нон-фикшн</span>
          <h3 class="h4 fw-semibold mb-2">Голос экспертов</h3>
          <p class="text-muted">Собираем практики из книг по саморазвитию, психологии и продуктивности. Короткие саммари и обсуждения с приглашёнными спикерами.</p>
          <div class="d-flex align-items-center gap-2 mt-3">
            <i class="bi bi-award text-warning"></i>
            <span>Бейдж «Вдохновитель» для активных участников</span>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<section class="home-section">
  <div class="section-heading">
    <h2 class="section-heading__title h3">Популярные и предстоящие события</h2>
    <a class="btn btn-amber btn-sm" href="{% url 'reading_communities_overview' %}"><i class="bi bi-calendar-event me-1"></i>Полный календарь</a>
  </div>
  <div class="row g-4 mt-1">
    <div class="col-lg-7">
      <div class="timeline-card">
        <div class="d-flex align-items-center justify-content-between">
          <div>
            <span class="pill mb-2"><i class="bi bi-fire"></i> Сегодня</span>
            <h3 class="h5 fw-semibold mt-2">Не пропустите горячие обсуждения</h3>
          </div>
          <a class="btn btn-outline-dark btn-sm" href="{% url 'reading_feed' %}">Лента событий</a>
        </div>
        <div class="timeline-item">
          <div class="timeline-item__time">19:00</div>
          <div>
            <h4 class="h6 mb-1">Квиз «Сюжет за минуту»</h4>
            <p class="text-muted mb-0">Блиц-команда угадывает книги по загадочным описаниям.</p>
          </div>
        </div>
        <div class="timeline-item">
          <div class="timeline-item__time">20:30</div>
          <div>
            <h4 class="h6 mb-1">Совместное чтение «Город фонарей»</h4>
            <p class="text-muted mb-0">Читаем главу 8, делимся иллюстрациями и любимыми цитатами.</p>
          </div>
        </div>
        <div class="timeline-item">
          <div class="timeline-item__time">22:00</div>
          <div>
            <h4 class="h6 mb-1">Ночной марафон «30 страниц»</h4>
            <p class="text-muted mb-0">Мини-спринты и поощрения за завершённые главы.</p>
          </div>
        </div>
      </div>
    </div>
    <div class="col-lg-5">
      <div class="timeline-card h-100">
        <span class="pill"><i class="bi bi-lightbulb"></i> Скоро</span>
        <h3 class="h5 fw-semibold">Запланируйте выходные</h3>
        <ul class="list-unstyled mb-0 d-grid gap-3">
          <li>
            <div class="fw-semibold">18 мая · Марафон «Три жанра»</div>
            <p class="text-muted mb-0">Смена жанров каждые 2 часа, соревнование клубов и трофеи.</p>
          </li>
          <li>
            <div class="fw-semibold">21 мая · Книжный обмен</div>
            <p class="text-muted mb-0">Создайте свою полку и обменяйтесь книгами с читателями из вашего города.</p>
          </li>
          <li>
            <div class="fw-semibold">26 мая · Коллаборация с автором</div>
            <p class="text-muted mb-0">Живой эфир с обсуждением свежего релиза и сессией вопросов.</p>
          </li>
        </ul>
      </div>
    </div>
  </div>
</section>

<section class="home-section">
  <div class="cta-banner">
    <div class="row g-4 align-items-center">
      <div class="col-lg-7">
        <h2 class="h2 fw-bold mb-3">Создайте свою литературную вселенную уже сегодня</h2>
        <p class="mb-4">Настраивайте тематические полки, приглашайте друзей и запускайте игры, чтобы чтение стало общим приключением. Мы позаботимся о вдохновении.</p>
        <div class="d-flex flex-wrap gap-2">
          <a class="btn btn-light btn-lg text-dark" href="{% url 'reading_marathons:list' %}"><i class="bi bi-flag me-2"></i>Каталог марафонов</a>
          <a class="btn btn-outline-light btn-lg" href="{% url 'collaborations:offer_list' %}"><i class="bi bi-megaphone me-2"></i>Коллаборации</a>
        </div>
      </div>
      <div class="col-lg-5">
        <div class="d-grid gap-3">
          <div class="d-flex align-items-center gap-3">
            <div class="display-5 fw-bold">3 500+</div>
            <div>клубов активно читают прямо сейчас</div>
          </div>
          <div class="d-flex align-items-center gap-3">
            <div class="display-5 fw-bold">96%</div>
            <div>участников возвращаются к нам каждую неделю</div>
          </div>
          <div class="d-flex align-items-center gap-3">
            <div class="display-5 fw-bold">24/7</div>
            <div>живые беседы, марафоны и игры для всех вкусов</div>
          </div>
        </div>
      </div>
    </div>
</section>
</div>

{% endblock %}
