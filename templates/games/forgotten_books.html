{% extends "base.html" %}
{% load static %}
{% block title %}{{ game.title }} ‚Äî –∏–≥—Ä—ã{% endblock %}
{% block extra_css %}
<style>
/* Masonry Layout –¥–ª—è –∫–Ω–∏–∂–Ω–æ–π –ø–æ–ª–∫–∏ */
.fb-shelf-masonry {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
  gap: 1.5rem;
  margin: 0;
  padding: 0;
}

.fb-masonry-item {
  width: 100%;
  transition: transform 0.2s ease;
}

.fb-masonry-item:hover {
  transform: translateY(-2px);
}

.fb-book-card {
  background: #f5faf6;
  border: 1px solid rgba(84, 106, 80, 0.2);
  border-radius: 12px;
  padding: 0.75rem;
  margin: 0;
  width: 100%;
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
}

.fb-book-cover {
  position: relative;
  width: 100%;
  aspect-ratio: 2 / 3;
  border-radius: 10px;
  overflow: hidden;
  background: linear-gradient(135deg, rgba(231, 239, 233, 0.9), rgba(155, 182, 162, 0.25));
  box-shadow: inset 0 0 0 1px rgba(84, 106, 80, 0.2);
  transition: box-shadow 0.3s ease;
}

.fb-book-cover:hover {
  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.35);
}

.fb-book-cover img {
  width: 100%;
  height: 100%;
  display: block;
  object-fit: cover;
  transition: transform 0.4s ease;
}

.fb-book-cover:hover img {
  transform: scale(1.03);
}

.fb-remove-form {
  position: absolute;
  top: 8px;
  right: 8px;
  z-index: 10;
  opacity: 0;
  transition: opacity 0.2s ease;
}

.fb-book-cover:hover .fb-remove-form {
  opacity: 1;
}

.fb-remove-form button {
  width: 28px;
  height: 28px;
  border-radius: 50%;
  padding: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(255, 255, 255, 0.9);
  border: none;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
}

.fb-remove-form button:hover {
  background: white;
  transform: scale(1.1);
}

.fb-book-placeholder {
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 3rem;
  color: rgba(84, 106, 80, 0.5);
  background: linear-gradient(135deg, rgba(245, 250, 246, 0.8) 0%, rgba(155, 182, 162, 0.35) 100%);
}

.fb-book-meta {
  padding: 0 2px;
}

.fb-book-meta .title {
  font-weight: 500;
  font-size: 0.95rem;
  line-height: 1.4;
  margin-bottom: 0.25rem;
  color: #2b3e34;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
  min-height: 2.8em;
}

.fb-book-meta .date {
  font-size: 0.85rem;
  color: rgba(43, 62, 52, 0.65);
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
}

/* –°—Ç–∏–ª–∏ –¥–ª—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (–æ—Å—Ç–∞–≤—à–∏–µ—Å—è –æ—Ç –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ –∫–æ–¥–∞ —Å —É–ª—É—á—à–µ–Ω–∏—è–º–∏) */
.forgotten-books-hero {
  background: linear-gradient(140deg, rgba(245, 250, 246, 0.96), rgba(217, 228, 219, 0.9));
  border: 1px solid rgba(84, 106, 80, 0.24);
  color: #2b3e34;
}

.fb-hero-heading {
  font-size: 2rem;
  font-weight: 700;
  color: #2b3e34;
}

.fb-hero-description {
  font-size: 1.1rem;
  color: rgba(43, 62, 52, 0.75);
  max-width: 800px;
}

.fb-hero-stats {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 1.5rem;
  margin: 2rem 0 1.5rem 0;
}

.fb-hero-stat {
  background: rgba(255, 255, 255, 0.7);
  padding: 1rem;
  border-radius: 8px;
  text-align: center;
  border: 1px solid rgba(84, 106, 80, 0.2);
}

.fb-hero-stat .label {
  display: block;
  font-size: 0.9rem;
  color: rgba(43, 62, 52, 0.6);
  margin-bottom: 0.5rem;
}

.fb-hero-stat .value {
  display: block;
  font-size: 2rem;
  font-weight: 700;
  color: #546a50;
  line-height: 1;
}

.fb-hero-stat .small {
  display: block;
  font-size: 0.85rem;
  color: rgba(43, 62, 52, 0.6);
  margin-top: 0.25rem;
}

.fb-progress {
  height: 6px;
  background: rgba(84, 106, 80, 0.18);
  border-radius: 3px;
  overflow: hidden;
  margin-top: 1.5rem;
}

.fb-progress-bar {
  height: 100%;
  background: linear-gradient(90deg, #6f8973, #2b3e34);
  border-radius: 3px;
  transition: width 0.6s ease;
}

.fb-shelf {
  background: linear-gradient(160deg, rgba(245, 250, 246, 0.95), rgba(217, 228, 219, 0.9));
  border: 1px solid rgba(84, 106, 80, 0.2);
}

.fb-shelf-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 1rem;
}

.fb-shelf-header h2 {
  font-size: 1.5rem;
  font-weight: 600;
  color: #2b3e34;
  margin: 0;
}

.fb-current-month {
  background: rgba(245, 250, 246, 0.9);
  border: 1px solid rgba(84, 106, 80, 0.2);
}

.fb-book-title {
  font-size: 1.25rem;
  font-weight: 600;
  color: #2b3e34;
}

.fb-current-meta {
  display: flex;
  flex-wrap: wrap;
  gap: 1.5rem;
  color: rgba(43, 62, 52, 0.7);
  font-size: 0.9rem;
}

.fb-current-meta span {
  display: flex;
  align-items: center;
}

.fb-current-status {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.5rem 1rem;
  border-radius: 20px;
  font-weight: 500;
  background: rgba(84, 106, 80, 0.2);
  color: #546a50;
}

.fb-current-status--success {
  background: rgba(84, 106, 80, 0.28);
  color: #2b3e34;
}

.fb-current-status--warning {
  background: rgba(155, 182, 162, 0.35);
  color: #2b3e34;
}

.fb-history-table {
  background: rgba(245, 250, 246, 0.92);
  border: 1px solid rgba(84, 106, 80, 0.2);
}

.fb-history-table table {
  color: #2b3e34;
  border-color: rgba(84, 106, 80, 0.2);
}

.fb-history-table th {
  background: rgba(217, 228, 219, 0.6);
  color: #2b3e34;
  border-color: rgba(84, 106, 80, 0.2);
  font-weight: 600;
}

.fb-history-table td {
  border-color: rgba(84, 106, 80, 0.2);
  vertical-align: middle;
}

/* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å –¥–ª—è Masonry */
@media (max-width: 768px) {
  .fb-shelf-masonry {
    grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
    gap: 1rem;
  }
}

@media (max-width: 576px) {
  .fb-shelf-masonry {
    grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
    gap: 0.75rem;
  }
  
  .fb-hero-stats {
    grid-template-columns: 1fr;
    gap: 1rem;
  }
}

/* –ê–Ω–∏–º–∞—Ü–∏–∏ */
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.fb-masonry-item {
  animation: fadeIn 0.4s ease forwards;
}

/* –ö–∞—Å—Ç–æ–º–Ω—ã–π —Å–∫—Ä–æ–ª–ª–±–∞—Ä –¥–ª—è —Ç–∞–±–ª–∏—Ü—ã */
.fb-history-table .table-responsive::-webkit-scrollbar {
  height: 8px;
}

.fb-history-table .table-responsive::-webkit-scrollbar-track {
  background: rgba(217, 228, 219, 0.8);
  border-radius: 4px;
}

.fb-history-table .table-responsive::-webkit-scrollbar-thumb {
  background: rgba(111, 137, 115, 0.7);
  border-radius: 4px;
}

.fb-history-table .table-responsive::-webkit-scrollbar-thumb:hover {
  background: rgba(84, 106, 80, 0.85);
}
</style>
{% endblock %}
{% block content %}
<section class="forgotten-books-hero card border-0 shadow-sm mb-4">
  <div class="card-body">
    <div class="d-flex flex-column flex-lg-row gap-4 align-items-start justify-content-between">
      <div>
        <h1 class="fb-hero-heading mb-2">{{ game.title }}</h1>
        <p class="fb-hero-description mb-0">{{ game.description }}</p>
      </div>
      <div class="ms-lg-auto text-lg-end">
        {% if remaining_slots %}
           <div class="small text-muted">–û—Å—Ç–∞–ª–æ—Å—å –¥–æ–±–∞–≤–∏—Ç—å {{ remaining_slots }} –∫–Ω–∏–≥ –¥–æ –ø–æ–ª–Ω–æ–≥–æ –Ω–∞–±–æ—Ä–∞.</div>
        {% else %}
          <div class="small text-muted">–ü–æ–ª–∫–∞ —Å–æ–±—Ä–∞–Ω–∞! –ö–∞–∂–¥—ã–π –º–µ—Å—è—Ü –ø–æ—è–≤–∏—Ç—Å—è –Ω–æ–≤–∞—è –∫–Ω–∏–≥–∞ –¥–ª—è —á—Ç–µ–Ω–∏—è.</div>
        {% endif %}
      </div>
    </div>
    <div class="fb-hero-stats">
      <div class="fb-hero-stat">
        <span class="label">–î–æ–±–∞–≤–ª–µ–Ω–æ –∫–Ω–∏–≥</span>
        <span class="value">{{ added_books_count }}</span>
        <span class="small">–∏–∑ {{ max_books }}</span>
      </div>
      <div class="fb-hero-stat">
        <span class="label">–û—Å—Ç–∞–ª–æ—Å—å –≤—ã–±—Ä–∞—Ç—å</span>
        <span class="value">{{ remaining_slots }}</span>
        <span class="small">–≤ –æ–∂–∏–¥–∞–Ω–∏–∏ –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏—è</span>
      </div>
      <div class="fb-hero-stat">
        <span class="label">–¢–µ–∫—É—â–∞—è –∫–Ω–∏–≥–∞</span>
        <span class="value fs-5">{% if selection %}{{ selection.entry.book.title }}{% else %}–í –æ–∂–∏–¥–∞–Ω–∏–∏{% endif %}</span>
        {% if selection %}
          <span class="small">–¥–æ {{ selection.deadline|date:"d E" }}</span>
        {% else %}
          <span class="small">–ø–æ—è–≤–∏—Ç—Å—è –ø–æ—Å–ª–µ –∫–æ–º–ø–ª–µ–∫—Ç–∞</span>
        {% endif %}
      </div>
    </div>
    <div class="fb-progress">
      <div class="fb-progress-bar" style="width: {% widthratio added_books_count max_books 100 %}%"></div>
    </div>
  </div>
</section>

<section class="fb-shelf card shadow-sm border-0 mb-4">
  <div class="card-body">
    <div class="fb-shelf-header">
      <h2>–ü–æ–ª–∫–∞ –∑–∞–±—ã—Ç—ã—Ö –∫–Ω–∏–≥</h2>
      <span class="badge rounded-pill text-bg-light text-dark-emphasis">–í –æ–∂–∏–¥–∞–Ω–∏–∏: {{ pending_entries|length }}</span>
    </div>
    <div class="mt-3">
      {% if pending_entries %}
        <div class="fb-shelf-masonry">
          {% for entry in pending_entries %}
          <article class="fb-book-card fb-masonry-item">
            <div class="fb-book-cover">
              <form method="post" class="fb-remove-form">
                {% csrf_token %}
                <input type="hidden" name="action" value="remove">
                <input type="hidden" name="entry_id" value="{{ entry.id }}">
                <button class="btn btn-light btn-sm" type="submit" title="–£–±—Ä–∞—Ç—å —Å –ø–æ–ª–∫–∏" aria-label="–£–±—Ä–∞—Ç—å ¬´{{ entry.book.title }}¬ª">
                  <i class="bi bi-x-lg"></i>
                </button>
              </form>
              {% with cover_url=entry.book.get_cover_url %}
                {% if cover_url %}
                  <img src="{{ cover_url }}" alt="–û–±–ª–æ–∂–∫–∞ ¬´{{ entry.book.title }}¬ª" loading="lazy">
                {% else %}
                  <div class="fb-book-placeholder" aria-hidden="true">üìñ</div>
                {% endif %}
              {% endwith %}
            </div>
            <div class="fb-book-meta">
              <div class="title">{{ entry.book.title }}</div>
              <div class="date">–î–æ–±–∞–≤–ª–µ–Ω–∞ {{ entry.added_at|date:"d.m.Y" }}</div>
            </div>
          </article>
          {% endfor %}
        </div>
        <p class="small text-muted mt-3 mb-0">–û–±–ª–æ–∂–∫–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è –ø–æ –≤—ã—Å–æ—Ç–µ –¥–ª—è –≥–∞—Ä–º–æ–Ω–∏—á–Ω–æ–≥–æ –≤–∏–¥–∞.</p>
      {% else %}
        <div class="text-center py-5">
          <div class="mb-3" style="font-size: 3rem; opacity: 0.5;">üìö</div>
          <p class="text-muted mb-0">–ü–æ–∫–∞ –Ω–∞ –ø–æ–ª–∫–µ –ø—É—Å—Ç–æ ‚Äî –≤—ã–±–µ—Ä–∏—Ç–µ –∫–Ω–∏–≥–∏ –∏–∑ –¥–æ–º–∞—à–Ω–µ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏, —á—Ç–æ–±—ã –≤–¥–æ—Ö–Ω—É—Ç—å –≤ –Ω–∏—Ö –Ω–æ–≤—É—é –∂–∏–∑–Ω—å.</p>
        </div>
      {% endif %}
    </div>
  </div>
</section>

<div class="row g-4">
  <div class="col-lg-5 order-lg-1 order-2">
    <div class="card shadow-sm border-0 h-100" style="background: #f5faf6; border: 1px solid rgba(84, 106, 80, 0.2);">
      <div class="card-body">
        <h2 class="h5 mb-3" style="color: #2b3e34;">–î–æ–±–∞–≤–∏—Ç—å –∫–Ω–∏–≥—É –≤ —á–µ–ª–ª–µ–Ω–¥–∂</h2>
        {% if remaining_slots %}
        <p class="small text-muted mb-3">–í—ã–±–µ—Ä–∏—Ç–µ –∏—Å—Ç–æ—Ä–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ —Ç–æ–º—è—Ç—Å—è –Ω–∞ –ø–æ–ª–∫–µ ¬´–î–æ–º–∞—à–Ω—è—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞¬ª. –í—Å–µ–≥–æ –Ω—É–∂–Ω–æ {{ max_books }} –∫–Ω–∏–≥ ‚Äî –≤—ã —É–∂–µ –±–ª–∏–∂–µ, —á–µ–º –∫–∞–∂–µ—Ç—Å—è!</p>
          <form method="post" class="vstack gap-3">
            {% csrf_token %}
            <input type="hidden" name="action" value="add">
            <div>
              {{ add_form.book.label_tag }}
              {{ add_form.book }}
              {% if add_form.book.errors %}
                <div class="invalid-feedback d-block">{{ add_form.book.errors|join:", " }}</div>
              {% endif %}
            </div>
            <button class="btn btn-primary" type="submit" style="background: linear-gradient(135deg, #4299e1 0%, #38b2ac 100%); border: none;">
              <i class="bi bi-plus-lg me-1"></i>–î–æ–±–∞–≤–∏—Ç—å –Ω–∞ –ø–æ–ª–∫—É
            </button>
          </form>
        {% else %}
          <div class="alert alert-success mb-0" style="background: #2f855a; border: none; color: white;">
            <i class="bi bi-check-circle-fill me-2"></i>
            –í—ã —Å–æ–±—Ä–∞–ª–∏ –≤—Å–µ {{ max_books }} –∫–Ω–∏–≥. –°–ª–µ–¥–∏—Ç–µ –∑–∞ –Ω–æ–≤—ã–º–∏ –æ—Ç–∫—Ä—ã—Ç–∏—è–º–∏ –∫–∞–∂–¥—ã–π –º–µ—Å—è—Ü!
          </div>
        {% endif %}
      </div>
    </div>
  </div>
  <div class="col-lg-7 order-lg-2 order-1">
    <div class="fb-current-month card shadow-sm border-0 mb-4">
      <div class="card-body">
        <h2 class="h5 mb-3">–ö–Ω–∏–≥–∞ —Ç–µ–∫—É—â–µ–≥–æ –º–µ—Å—è—Ü–∞</h2>
        {% if selection %}
          {% with entry=selection.entry %}
          <div class="d-flex flex-column flex-md-row align-items-start align-items-md-center gap-4">
            <div class="flex-grow-1">
              <div class="fb-book-title">{{ entry.book.title }}</div>
              <div class="fb-current-meta mt-2">
                <span><i class="bi bi-calendar-week me-1"></i>–°—Ç–∞—Ä—Ç {{ selection.month_start|date:"d E Y" }}</span>
                <span><i class="bi bi-flag me-1"></i>–î–µ–¥–ª–∞–π–Ω {{ selection.deadline|date:"d E" }}</span>
              </div>
            </div>
            <div class="text-md-end">
              <div class="fb-current-status {% if entry.is_completed %}fb-current-status--success{% elif entry.review_submitted_at %}fb-current-status--warning{% endif %}">
                {% if entry.is_completed %}
                  <i class="bi bi-stars"></i> –û—Ç–∑—ã–≤ –≥–æ—Ç–æ–≤
                {% elif entry.review_submitted_at %}
                  <i class="bi bi-chat-square-text"></i> –ñ–¥—ë—Ç –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
                {% else %}
                  <i class="bi bi-bookmark-heart"></i> –í –ø—Ä–æ—Ü–µ—Å—Å–µ —á—Ç–µ–Ω–∏—è
                {% endif %}
              </div>
              {% if entry.review_submitted_at %}
              <div class="small text-muted mt-2">–û—Ç–∑—ã–≤ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω {{ entry.review_submitted_at|date:"d.m.Y" }}</div>
              {% endif %}
              {% if entry.finished_at %}
                <div class="small text-muted">–ü—Ä–æ—á–∏—Ç–∞–Ω–∞ {{ entry.finished_at|date:"d.m.Y" }}</div>
              {% endif %}
            </div>
          </div>
          {% if not entry.finished_at and not entry.review_submitted_at %}
            <p class="text-muted small mb-0 mt-3">–û—Ç–º–µ—á–∞–π—Ç–µ –ø—Ä–æ–≥—Ä–µ—Å—Å –∏ –¥–µ–ª–∏—Ç–µ—Å—å –≤–ø–µ—á–∞—Ç–ª–µ–Ω–∏—è–º–∏ –ø—Ä—è–º–æ –∏–∑ –ø—Ä–æ—Ñ–∏–ª—è –∫–Ω–∏–≥–∏.</p>
          {% endif %}
          {% endwith %}
        {% else %}
          <div class="text-center py-3">
            <i class="bi bi-hourglass-split text-muted mb-2" style="font-size: 2rem;"></i>
            <p class="text-muted mb-0">–ö–∞–∫ —Ç–æ–ª—å–∫–æ –≤—ã –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –ø–æ–ª–∫—É –∏–∑ {{ max_books }} –∫–Ω–∏–≥, –≤ –Ω–∞—á–∞–ª–µ —Å–ª–µ–¥—É—é—â–µ–≥–æ –º–µ—Å—è—Ü–∞ –ø–æ—è–≤–∏—Ç—Å—è –ø–µ—Ä–≤–∞—è –∫–Ω–∏–≥–∞ –¥–ª—è —á—Ç–µ–Ω–∏—è.</p>
          </div>
        {% endif %}
      </div>
    </div>
    <div class="card shadow-sm border-0 fb-history-table">
      <div class="card-body">
        <h2 class="h5 mb-3">–ò—Å—Ç–æ—Ä–∏—è –≤—ã–±–æ—Ä–æ–≤</h2>
        {% if selected_entries %}
        <div class="table-responsive">
          <table class="table table-sm align-middle mb-0">
            <thead>
              <tr>
                <th scope="col">–ú–µ—Å—è—Ü</th>
                <th scope="col">–ö–Ω–∏–≥–∞</th>
                <th scope="col" class="text-center">–°—Ç–∞—Ç—É—Å</th>
              </tr>
            </thead>
            <tbody>
              {% for entry in selected_entries %}
              <tr class="{% if entry.is_completed %}table-success{% elif entry.review_submitted_at %}table-warning{% endif %}">
                <td>
                  {% if entry.selected_month %}
                    <strong>{{ entry.selected_month|date:"F Y" }}</strong><br>
                    <small class="text-muted">–¥–æ {{ entry.get_deadline|date:"d.m" }}</small>
                  {% else %}
                    <span class="text-muted">‚Äî</span>
                  {% endif %}
                </td>
                <td>{{ entry.book.title }}</td>
                <td class="text-center">
                  {% if entry.is_completed %}
                    <span class="badge text-bg-success">–ó–∞–≤–µ—Ä—à–µ–Ω–æ</span>
                  {% elif entry.review_submitted_at %}
                    <span class="badge text-bg-warning">–ñ–¥—ë—Ç –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è</span>
                  {% else %}
                    <span class="badge text-bg-secondary">–í –ø—Ä–æ—Ü–µ—Å—Å–µ</span>
                  {% endif %}
                </td>
              </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
        {% else %}
          <div class="text-center py-3">
            <i class="bi bi-clock-history text-muted mb-2" style="font-size: 2rem;"></i>
            <p class="text-muted mb-0">–ó–¥–µ—Å—å –ø–æ—è–≤—è—Ç—Å—è –∫–Ω–∏–≥–∏, –∫–æ—Ç–æ—Ä—ã–µ —É–∂–µ –ø–æ–±—ã–≤–∞–ª–∏ –≤ –µ–∂–µ–º–µ—Å—è—á–Ω–æ–º —Ñ–æ–∫—É—Å–µ.</p>
          </div>
        {% endif %}
      </div>
    </div>
  </div>
</div>

{% block extra_js %}
<script>
// –ù–µ–±–æ–ª—å—à–æ–π JS –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è UX
document.addEventListener('DOMContentLoaded', function() {
  // –ü–ª–∞–≤–Ω–æ–µ –ø–æ—è–≤–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ masonry
  const masonryItems = document.querySelectorAll('.fb-masonry-item');
  masonryItems.forEach((item, index) => {
    item.style.animationDelay = `${index * 0.05}s`;
  });
  
  // –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —É–¥–∞–ª–µ–Ω–∏—è –∫–Ω–∏–≥–∏
  const removeForms = document.querySelectorAll('.fb-remove-form');
  removeForms.forEach(form => {
    form.addEventListener('submit', function(e) {
      if (!confirm('–£–±—Ä–∞—Ç—å –∫–Ω–∏–≥—É —Å –ø–æ–ª–∫–∏? –≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–ª—å–∑—è –æ—Ç–º–µ–Ω–∏—Ç—å.')) {
        e.preventDefault();
      }
    });
  });
});
</script>
{% endblock %}
{% endblock %}